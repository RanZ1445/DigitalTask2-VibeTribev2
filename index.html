<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Weather Impact on Agriculture</title>
  <style>
    #bgCanvas {
      position: fixed;
      inset: 0;
      z-index: -1;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #064e3b;
      color: #111;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }
    header, footer, section {
      background: #a7f3d0;
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    h1, h2, h3 {
      margin-top: 0;
      color: #064e3b;
    }
    nav a {
      margin-right: 1rem;
      text-decoration: none;
      color: #065f46;
      font-weight: bold;
    }
    nav a:hover { text-decoration: underline; }
    table {
      border-collapse: collapse;
      margin: 1rem 0;
      width: 100%;
      background: #d1fae5;
    }
    table, th, td {
      border: 1px solid #065f46;
    }
    th, td {
      padding: 6px;
      text-align: center;
      font-size: 0.9rem;
    }
    pre {
      background: #d1fae5;
      padding: 0.5rem;
      border-radius: 6px;
      font-size: 0.9rem;
    }
    .calc-box {
      border: 2px solid #065f46;
      display: inline-block;
      padding: 4px 8px;
      background: #6ee7b7;
      border-radius: 4px;
      margin: 2px 0;
    }
    #chart {
      width: 100%;
      height: 240px;
    }
    html, body { height: 100%; overflow-x: hidden; }
  </style>
</head>
<body>
  <!-- Background -->
  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <div class="container">
    <!-- Header -->
    <header>
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <div>
          <h1>Case Scenario 2: Understanding Weather Impact on Local Agriculture</h1>
          <p style="margin:0; font-size:0.9rem; color:#065f46;">Analyzing the relationship between temperature and pressure in a greenhouse</p>
        </div>
        <nav>
          <a href="#scenario">Scenario</a>
          <a href="#concepts">Concepts</a>
          <a href="#calc">Calculations</a>
          <a href="#graph">Graph</a>
          <a href="#references">References</a>
        </nav>
      </div>
    </header>

    <!-- Scenario -->
    <section id="scenario">
      <h2>Scenario Description</h2>
      <p>A local farmer has noticed that temperature fluctuations are affecting the pressure in his greenhouse, which in turn impacts the growth of his crops. He’s asked for help in understanding how temperature changes affect the air pressure inside the greenhouse.</p>
      <p>A farmer from a nearby town is struggling with maintaining the right conditions in his greenhouse due to varying temperatures. Your group’s analysis of the relationship between temperature and pressure can help him optimize the environment for his crops, potentially improving yields.</p>
    </section>

    <!-- Concepts -->
    <section id="concepts">
      <h2>Background & Related Concepts</h2>
      <table>
        <thead>
          <tr>
            <th>Concept</th>
            <th>Link</th>
            <th>Why it's useful</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Ideal Gas Law</td>
            <td><a href="https://en.wikipedia.org/wiki/Ideal_gas_law" target="_blank" rel="noreferrer">Wikipedia</a></td>
            <td>Gives the relation <code>PV = nRT</code> linking pressure, volume, and temperature.</td>
          </tr>
          <tr>
            <td>Charles's Law</td>
            <td><a href="https://en.wikipedia.org/wiki/Charles%27s_law" target="_blank" rel="noreferrer">Wikipedia</a></td>
            <td>Explains how gas expands with temperature when pressure is constant.</td>
          </tr>
          <tr>
            <td>Thermal Expansion</td>
            <td><a href="https://courses.lumenlearning.com/suny-albany-chemistry/chapter/relating-pressure-volume-amount-and-temperature-the-ideal-gas-law/" target="_blank" rel="noreferrer">Lumen Learning</a></td>
            <td>Shows proportionality between temperature and pressure under constant volume.</td>
          </tr>
          <tr>
            <td>Air Density & Temperature</td>
            <td><a href="https://www.omicsonline.org/open-access/ideal-gas-law-and-the-greenhouse-effect-2157-7617-1000468-101034.html" target="_blank" rel="noreferrer">OMICS Article</a></td>
            <td>Connects density, pressure, and temperature in greenhouse context.</td>
          </tr>
          <tr>
            <td>Greenhouse Effect</td>
            <td><a href="https://climate.nasa.gov/faq/19/what-is-the-greenhouse-effect/" target="_blank" rel="noreferrer">NASA</a></td>
            <td>Explains how greenhouse gases trap heat.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Calculations -->
    <section id="calc">
      <h2>Calculations</h2>
      <h3>Dataset Table</h3>
      <table>
        <tr>
          <th>X (Temp)</th><th>Y (Pressure)</th><th>X²</th><th>XY</th><th>(X - X̄)</th><th>(X - X̄)²</th>
        </tr>
        <tr><td>0</td><td>101.3</td><td>0</td><td>0</td><td>-45</td><td>2025</td></tr>
        <tr><td>10</td><td>104.2</td><td>100</td><td>1042</td><td>-35</td><td>1225</td></tr>
        <tr><td>20</td><td>107.1</td><td>400</td><td>2142</td><td>-25</td><td>625</td></tr>
        <tr><td>30</td><td>110.0</td><td>900</td><td>3300</td><td>-15</td><td>225</td></tr>
        <tr><td>40</td><td>112.9</td><td>1600</td><td>4516</td><td>-5</td><td>25</td></tr>
        <tr><td>50</td><td>115.8</td><td>2500</td><td>5790</td><td>5</td><td>25</td></tr>
        <tr><td>60</td><td>118.7</td><td>3600</td><td>7122</td><td>15</td><td>225</td></tr>
        <tr><td>70</td><td>121.6</td><td>4900</td><td>8512</td><td>25</td><td>625</td></tr>
        <tr><td>80</td><td>124.5</td><td>6400</td><td>9960</td><td>35</td><td>1225</td></tr>
        <tr><td>90</td><td>127.4</td><td>8100</td><td>11466</td><td>45</td><td>2025</td></tr>
        <tr style="font-weight:bold;"><td>Σ450</td><td>Σ1143.5</td><td>Σ28500</td><td>Σ53850</td><td>Σ0</td><td>Σ8250</td></tr>
      </table>
      <h3>Step-by-Step</h3>
      <p><b>Mean:</b> X̄ = (ΣX)/n = 450/10 = <span class="calc-box">45</span></p>
      <p><b>Variance:</b> σ² = Σ(X - X̄)² / n = 8250 / 10 = <span class="calc-box">825</span></p>
      <p><b>Standard Deviation:</b> σ = √825 = <span class="calc-box">28.72</span></p>
      <p><b>Linear Regression:</b></p>
      <pre>
n = 10
ΣY = 1143.5
ΣXY = 53850
ΣX = 450
ΣX² = 28500

Slope m = 0.29
Intercept b = 101.3
Equation: y = 0.29x + 101.3
      </pre>
      <h3>Prediction Calculator</h3>
      <label>Enter Temperature (°C): <input id="tempInput" type="number" value="25"></label>
      <button onclick="predictPressure()">Predict Pressure</button>
      <div id="prediction"></div>
    </section>

    <!-- Graph -->
    <section id="graph">
      <h2>Graph</h2>
      <canvas id="chart"></canvas>
    </section>

    <!-- References -->
    <!-- References -->
	<section id="references">
	<h2>References</h2>
		<ul>
			<li><a href="https://en.wikipedia.org/wiki/Ideal_gas_law" target="_blank" rel="noreferrer">Ideal Gas Law — Wikipedia</a></li>
			<li><a href="https://en.wikipedia.org/wiki/Charles%27s_law" target="_blank" rel="noreferrer">Charles's Law — Wikipedia</a></li>
			<li><a href="https://courses.lumenlearning.com/suny-albany-chemistry/chapter/relating-pressure-volume-amount-and-temperature-the-ideal-gas-law/" target="_blank" rel="noreferrer">Relating Pressure, Volume, Amount, and Temperature (Ideal Gas) — Lumen Learning</a></li>
			<li><a href="https://www.omicsonline.org/open-access/ideal-gas-law-and-the-greenhouse-effect-2157-7617-1000468-101034.html" target="_blank" rel="noreferrer">Ideal Gas Law and the Greenhouse Effect — OMICS Open Access</a></li>
			<li><a href="https://climate.nasa.gov/faq/19/what-is-the-greenhouse-effect/" target="_blank" rel="noreferrer">What is the Greenhouse Effect? — NASA</a></li>
		</ul>
	</section>


    <!-- Footer -->
    <footer>
      <p>Physics Digital Task 2 — VIBE TRIBE</p>
      <p>© <span id="year"></span></p>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Prediction + Graph update
  let chart; // keep chart accessible

  function predictPressure() {
    const temp = parseFloat(document.getElementById('tempInput').value);
    if (isNaN(temp)) return;

    const pressure = 0.29 * temp + 101.3;
    document.getElementById('prediction').innerHTML =
      `<pre>Predicted Pressure at ${temp}°C = ${pressure.toFixed(2)} kPa</pre>`;

    const maxX = Math.max(90, temp);

    // Update regression line
    const regressionData = Array.from({ length: maxX + 1 }, (_, i) => ({
      x: i,
      y: 0.29 * i + 101.3
    }));

    const regressionDataset = chart.data.datasets.find(ds => ds.label === "Regression Line");
    regressionDataset.data = regressionData;

    // Update/add prediction point
    let predDataset = chart.data.datasets.find(ds => ds.label === "Prediction");
    if (!predDataset) {
      predDataset = {
        label: "Prediction",
        data: [],
        borderColor: "#f43f5e",
        backgroundColor: "#f43f5e",
        pointRadius: 6,
        showLine: false
      };
      chart.data.datasets.push(predDataset);
    }
    predDataset.data = [{ x: temp, y: pressure }];

    chart.update();
  }

  // Graph setup
  const ctx = document.getElementById('chart').getContext('2d');
  chart = new Chart(ctx, {
    type: 'scatter',
    data: {
      datasets: [
        {
          label: 'Observed Data',
          data: [
            {x:0,y:101.3},{x:10,y:104.2},{x:20,y:107.1},{x:30,y:110.0},
            {x:40,y:112.9},{x:50,y:115.8},{x:60,y:118.7},{x:70,y:121.6},
            {x:80,y:124.5},{x:90,y:127.4}
          ],
          borderColor: '#065f46',
          backgroundColor: '#6ee7b7',
          pointRadius: 5,
          showLine: false
        },
        {
          label: 'Regression Line',
          type: 'line',
          data: Array.from({ length: 91 }, (_, i) => ({ x: i, y: 0.29 * i + 101.3 })),
          borderColor: '#10b981',
          borderWidth: 2,
          fill: false,
          pointRadius: 0
        }
      ]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: true } },
      scales: {
        x: { title: { display: true, text: 'Temperature (°C)' } },
        y: { title: { display: true, text: 'Pressure (kPa)' } }
      }
    }
  });

  document.getElementById('year').textContent = new Date().getFullYear();
</script>


    // Prediction
    function predictPressure() {
      const temp = parseFloat(document.getElementById('tempInput').value);
      const pressure = 0.29 * temp + 101.3;
      document.getElementById('prediction').innerHTML = `<pre>Predicted Pressure at ${temp}°C = ${pressure.toFixed(2)} kPa</pre>`;
    }

    // Graph
    const ctx = document.getElementById('chart');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: [0,10,20,30,40,50,60,70,80,90],
        datasets: [{
          label: 'Pressure (kPa)',
          data: [101.3,104.2,107.1,110.0,112.9,115.8,118.7,121.6,124.5,127.4],
          borderColor: '#065f46',
          backgroundColor: '#6ee7b7',
          fill: true,
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: true } },
        scales: {
          x: { title: { display: true, text: 'Temperature (°C)' } },
          y: { title: { display: true, text: 'Pressure (kPa)' } }
        }
      }
    });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
